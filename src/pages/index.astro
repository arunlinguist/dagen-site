---
import Welcome from '../components/Welcome.astro'
import Layout from '../layouts/Layout.astro'
import Header from '../components/Header.astro'
import '../styles/global.css'
import Testimonials from '@components/Testimonials.astro'
import TimelineItem from '@components/TimelineItem.astro'
import ClientSatisfactionCard from '@components/ClientSatisfactionCard.astro'
import { timelineItems } from '../content/data/timeline'
---

<Layout title='Arun — Writing, Editing & Applied Linguistics'>
  <section
    id='hero'
    class='py-16 px-4 bg-linear-to-b from-slate-50 to-slate-200'
  >
    <div
      id='avatar'
      class='rounded-full shadow w-50 h-50 mx-auto border-4 border-slate-200 overflow-hidden hover:scale-120 transition-transform duration-300 mb-8'
    >
      <img
        src='/images/arun.webp'
        alt='Description of image'
      />
    </div>
    <h2 class='text-center font-semibold text-slate-700 text-3xl mb-8'>
      Welcome!
    </h2>
    <p class='text-center max-w-120 mx-auto'>
      My name is Arun, and I'm here to help you articulate your thoughts and ideas better. Take it from this linguist: language is power! You can learn more about what I do
      <a
        href='/services#services-title'
        class='text-sky-600 hover:text-sky-400 hover:underline'
      >
        here:)
      </a>
    </p>
  </section>
  <Testimonials />
  <section class="px-4 py-8 md:py-12 bg-linear-to-br from-white via-sky-50 to-white">
    <div>
    <h2 class='text-3xl font-semibold text-slate-700 text-center mb-12' data-aos="fade-up" data-aos-mobile="false">My Journey</h2>
    <div class='flex flex-col sm:flex-row justify-center items-center gap-4 sm:gap-8'>
      <div class='hidden sm:flex flex-col items-center justify-center timeline-line-container'>
        {timelineItems.slice(0, -1).map((_, index) => (
          <>
            <div 
              class='rounded-full size-5 bg-sky-600 timeline-dot' 
              data-aos="zoom-in"
              data-aos-delay={index * 100}
            ></div>
            <div 
              class='w-[3px] h-[150px] bg-sky-600 timeline-line' 
              data-aos="fade"
              data-aos-delay={index * 200 + 100}
            ></div>
          </>
        ))}
        <div 
          class='rounded-full size-5 bg-sky-600 timeline-dot' 
          data-aos="zoom-in"
          data-aos-delay={(timelineItems.length - 1) * 200}
        ></div>
      </div>
      
      <div class='flex flex-col items-center sm:items-start justify-center gap-4 w-full sm:w-auto'>
        {timelineItems.map((item, index) => (
          <div class="w-full sm:w-auto timeline-item-wrapper" data-aos="fade-left" data-aos-delay={index * 200}>
            <TimelineItem
              year={item.year}
              description={item.description}
              image={item.image}
            />
          </div>
        ))}
      </div>
    </div>
    </div>
  </section>
  <section id="clients-satisfaction" class="px-12 pb-12">
    <h2 class="text-2xl font-semibold text-slate-700 text-center my-12">Client Satisfaction</h2>
    <div id="pill" class="flex flex-row rounded-full bg-sky-950 gap-x-2 items-center text-nowrap pl-1 pr-3 fit-content w-fit my-4">
      <div class="rounded-full size-4 bg-teal-700 flex items-center justify-center shrink-0">
        <div class="rounded-full size-2 bg-teal-400"></div>
      </div>
      <span class="text-[#38bdf8] font-semibold">PROVEN ACADEMIC GUIDANCE</span>
    </div>
    <h3 data-aos="fade-left" class="text-xl font-semibold text-slate-700 mt-2 mb-4">Nurturing the excellent thinker in you!</h3>
    <p data-aos="fade-right" class="text-slate-600 md:max-w-1/2 leading-relaxed mb-4">In my career, I have provided support and mentorship to people from diverse backgrounds — teachers, therapists, students, researchers - as they try to make positive changes around them.</p>
    <div class="flex md:flex-row flex-col md:gap-x-4 gap-y-4 md:items-center items-start mb-12">
      <ClientSatisfactionCard value="7+" description="Years of Guidance" />
      <ClientSatisfactionCard value="1000+" description="Clients Reached" />
      <ClientSatisfactionCard value="500+" description="Sessions Held" />
    </div>
  </section>
</Layout>

<style>
  /* Timeline line grow animation - Vertical (Desktop) */
  .timeline-line {
    transform-origin: top;
    transform: scaleY(0);
    opacity: 1;
  }

  #clients-satisfaction {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  }

  .timeline-line.aos-animate {
    animation: growLineVertical 0.8s ease-out forwards;
  }
  
  /* Show timeline lines by default if AOS is not initialized */
  .timeline-line:not(.aos-init) {
    transform: scaleY(1);
  }
  
  @keyframes growLineVertical {
    from {
      transform: scaleY(0);
    }
    to {
      transform: scaleY(1);
    }
  }

  .timeline-dot {
    opacity: 0;
    transform: scale(0);
  }

  .timeline-dot.aos-animate {
    animation: zoomInDot 0.5s ease-out forwards;
  }
  
  /* Show timeline dots by default if AOS is not initialized */
  .timeline-dot:not(.aos-init) {
    opacity: 1;
    transform: scale(1);
  }
  
  @keyframes zoomInDot {
    from {
      opacity: 0;
      transform: scale(0);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  
  /* Show timeline items and testimonials by default if AOS is not initialized */
  [data-aos]:not(.aos-init) {
    opacity: 1 !important;
    transform: none !important;
  }
  
  /* Fallback: Show all AOS elements after page load if they're still hidden */
  @keyframes showFallback {
    to {
      opacity: 1 !important;
      transform: none !important;
    }
  }
  
  /* After 1 second, if elements still aren't visible, show them */
  [data-aos]:not(.aos-animate) {
    animation: showFallback 0s 1s forwards;
  }
  
  [data-aos].aos-animate {
    animation: none;
  }


  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
    
    [data-aos] {
      opacity: 1 !important;
      transform: none !important;
      animation: none !important;
    }
    
    .timeline-dot {
      opacity: 1 !important;
      transform: scale(1) !important;
    }
    
    .timeline-line {
      transform: scaleY(1) !important;
    }
    
    .timeline-item-wrapper {
      opacity: 1 !important;
      transform: none !important;
    }
  }

  /* Responsive adjustments */
  @media (max-width: 640px) {
    .timeline-line-container {
      display: none;
    }
    
    /* Disable animations on small screens */
    [data-aos] {
      opacity: 1 !important;
      transform: none !important;
      animation: none !important;
    }
    
    .timeline-dot {
      opacity: 1 !important;
      transform: scale(1) !important;
    }
    
    .timeline-line {
      transform: scaleY(1) !important;
    }
    
    .timeline-item-wrapper {
      opacity: 1 !important;
      transform: none !important;
    }
  }
</style>
